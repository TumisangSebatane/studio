{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile within the LexiBotswana application.",
      "properties": {
        "id": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "displayName": { "type": "string" },
        "preferences": { "type": "string" }
      },
      "required": ["id", "email", "displayName"]
    },
    "LegalDocument": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "LegalDocument",
      "type": "object",
      "description": "Represents a legal document (statute, case law, or commentary) with rich metadata.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "category": { "type": "string", "enum": ["Statute", "Case Law", "Commentary"] },
        "date": { "type": "string", "format": "date" },
        "summary": { "type": "string" },
        "content": { "type": "string", "description": "Full text of the document (HTML/Markdown)." },
        "court": { "type": "string" },
        "judge": { "type": "string" },
        "judges": { "type": "array", "items": { "type": "string" } },
        "caseNumber": { "type": "string" },
        "headnotes": { "type": "string" },
        "actNumber": { "type": "string" },
        "sectionNumber": { "type": "string" },
        "author": { "type": "string" },
        "version": { "type": "string" },
        "jurisdiction": { "type": "string", "default": "Botswana" }
      },
      "required": ["id", "title", "category", "content"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}/profile",
        "definition": {
          "entityName": "UserProfile",
          "schema": { "$ref": "#/backend/entities/UserProfile" },
          "description": "User profile data."
        }
      },
      {
        "path": "/legal_documents/{legalDocumentId}",
        "definition": {
          "entityName": "LegalDocument",
          "schema": { "$ref": "#/backend/entities/LegalDocument" },
          "description": "Central repository for BLRs, Statutes, and Commentaries."
        }
      }
    ]
  }
}